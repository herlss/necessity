<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poema da Necessidade</title>
    <link rel="stylesheet" href="index.css">
    <link rel="shortcut icon" href="assets/favicon.png" type="image/x-icon">
</head>
<body>
    <img id="swirl1" src="assets/left.png" alt="Adorno A">
    <img id="swirl2" src="assets/right.png" alt="Adorno B">

    <div id="title">
        <p>Poema da Necessidade</p>
        <p id="smaller">Referências</p>
    </div>

    <div id="wrapper">
        <img src="assets/starter.png" alt="Adorno Inicial" id="starter">
        <div class="frame">
            <iframe src="https://www.youtube.com/embed/-UAePnU9WoA?si=QsmvkFsg3qjdnum4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://pt.wikipedia.org/wiki/Studio_Ghibli" target="_blank">Studio Ghibli</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Significados</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="assets/people.jpg" alt="Muitas pessoas">
            <audio id="audio2" src="assets/cavalrymen.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/iwROgK94zcM?si=mypE_8vdq3AuFKzv" target="_blank">Castelo Animado</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Amontoado de Pessoas</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="assets/buying.jpg" alt="Pessoas comprando">
            <audio id="audio3" src="assets/buying.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/iwROgK94zcM?si=mypE_8vdq3AuFKzv" target="_blank">Castelo Animado</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Pessoas comprando</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="assets/radio.jpg" alt="Ouvindo Rádio">
            <audio id="audio4" src="assets/radio.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/4bG17OYs-GA?si=p4oCJb3LYkpDsQpv" target="_blank">Kiki's Delivery Service</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Ouvindo Rádio</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="assets/flowers.jpg" alt="Garota com Flores">
            <audio id="audio5" src="assets/wind.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/92a7Hj0ijLs?si=OoLKdizsQIQdtBCc" target="_blank">Tonari no Totoro</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Colhendo flores</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="assets/sophie.jpg" alt="Moça Conversando com Espantalho">
            <audio id="audio6" src="assets/lake.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/iwROgK94zcM?si=mypE_8vdq3AuFKzv" target="_blank">Castelo Animado</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Isolamento</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <div class="frame">
            <img src="https://gkids.com/wp-content/uploads/2023/07/HERON_img_6-1024x554.jpg" alt="Homem Velho">
            <audio id="audio7" src="assets/fim.mp3"></audio>
        </div>
        <div class="text">
            <div class="topics">
                <div class="a">
                    <p class="title"><a href="https://youtu.be/f7EDFdA10pg?si=qGMIcj6vPrVShnVD" target="_blank">O Garoto e a Garça</a></p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
                <div class="b">
                    <p class="title">Fim do Mundo</p>
                    <p class="a-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi neque cupiditate odio vero deserunt repellendus necessitatibus culpa aspernatur perspiciatis in.</p>
                </div>
            </div>
        </div>
        <img src="assets/finisher.png" alt="Adorno Final" id="finisher">
        <img id="swirl3" src="assets/left.png" alt="Adorno C">
        <img id="swirl4" src="assets/right.png" alt="Adorno D">
    </div>
    <button id="muteButton">
        <svg id="muteIcon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16">
            <path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-.708.707A7.48 7.48 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303z"/>
            <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.48 5.48 0 0 1 11.025 8a5.48 5.48 0 0 1-1.61 3.89z"/>
            <path d="M8.707 11.182A4.5 4.5 0 0 0 10.025 8a4.5 4.5 0 0 0-1.318-3.182L8 5.525A3.5 3.5 0 0 1 9.025 8 3.5 3.5 0 0 1 8 10.475zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06"/>
        </svg>
    </button>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script>
        ScrollReveal({ reset: true, distance: "100px" });
        ScrollReveal().reveal(".topics", { origin: "bottom", duration: 400, delay: 100 });

        function isScrolledIntoView(el) {
            var rect = el.getBoundingClientRect();
            var elemTop = rect.top;
            var elemBottom = rect.bottom;
            var elemHeight = rect.height;

            return (elemTop < window.innerHeight - elemHeight / 2) && (elemBottom > elemHeight / 2);
        }

        const frames = document.querySelectorAll('.frame');
        const audios = document.querySelectorAll('audio');
        let isMuted = false;

        function checkVisibility() {
            let anyVisible = false;
            frames.forEach((frame, index) => {
                if (index === 0) return;

                const audio = audios[index - 1];
                if (isScrolledIntoView(frame)) {
                    if (audio.paused && !isMuted) {
                        audio.play();
                    }
                    anyVisible = true;
                } else {
                    if (!audio.paused) {
                        audio.pause();
                        audio.currentTime = 0;
                    }
                }
            });

            if (!anyVisible) {
                audios.forEach(audio => {
                    if (!audio.paused) {
                        audio.pause();
                        audio.currentTime = 0;
                    }
                });
            }
        }

        window.addEventListener('scroll', checkVisibility);
        window.addEventListener('resize', checkVisibility);

        const muteButton = document.getElementById('muteButton');
        const muteIcon = document.getElementById('muteIcon');

        muteButton.addEventListener('click', () => {
            isMuted = !isMuted;
            audios.forEach(audio => {
                audio.muted = isMuted;
            });

            if (isMuted) {
                muteIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-mute-fill" viewBox="0 0 16 16">
                        <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06m7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0"/>
                    </svg>
                `;
            } else {
                muteIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16">
                        <path d="M11.536 14.01A8.47 8.47 0 0 0 14.026 8a8.47 8.47 0 0 0-2.49-6.01l-.708.707A7.48 7.48 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303z"/>
                        <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.48 5.48 0 0 1 11.025 8a5.48 5.48 0 0 1-1.61 3.89z"/>
                        <path d="M8.707 11.182A4.5 4.5 0 0 0 10.025 8a4.5 4.5 0 0 0-1.318-3.182L8 5.525A3.5 3.5 0 0 1 9.025 8 3.5 3.5 0 0 1 8 10.475zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06"/>
                    </svg>
                `;
            }
        });
    </script>
</body>
</html>